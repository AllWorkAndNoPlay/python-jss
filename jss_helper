#!/usr/bin/python
"""jss_helper

Command line utility using jss_helper.py

Shea Craig 2014

"""

import jss_helper
import argparse


def main():
    """Run as a cli command."""

    # Create our argument parser
    parser = argparse.ArgumentParser(description="Query the JSS.")
    subparser = parser.add_subparsers(dest='subparser_name')
    subparser_policy = subparser.add_parser('policy_by_group',
                                            help="Lists all policies scoped \
                                            to provided group.")
    subparser_policy.add_argument('group', help="Group name to query.")
    subparser_policy.set_defaults(func=jss_helper.get_group_policies)

    # Parse the args and then call their target function
    args = parser.parse_args()
    args.func(args)
    

if __name__ == '__main__':
    main()
